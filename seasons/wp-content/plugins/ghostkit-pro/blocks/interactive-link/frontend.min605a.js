!function(){"use strict";function t(t,e,i){var n,o=i||{},r=o.noTrailing,a=void 0!==r&&r,c=o.noLeading,s=void 0!==c&&c,d=o.debounceMode,l=void 0===d?void 0:d,u=!1,g=0;function m(){n&&clearTimeout(n)}function f(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];var c=this,d=Date.now()-g;function f(){g=Date.now(),e.apply(c,o)}function p(){n=void 0}u||(s||!l||n||f(),m(),void 0===l&&d>t?s?(g=Date.now(),a||(n=setTimeout(l?p:f,t))):f():!0!==a&&(n=setTimeout(l?p:f,void 0===l?t-d:t)))}return f.cancel=function(t){var e=(t||{}).upcomingOnly,i=void 0!==e&&e;m(),u=!i},f}const{events:e}=window.GHOSTKIT;function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const r="ghostkit-interactive-link",a="ghostkit-interactive-link-media",c="ghostkit-interactive-link-active",s="ghostkit-interactive-link-media-show",d="ghostkit-interactive-group-media-show",l="ghostkit-interactive-media-item-show",{events:u}=window.GHOSTKIT,g=[];function m(t,e){return Array.from(t.children).find((t=>t.dataId===e))||!1}function f(){return"ghostkit-interactive-link-media".concat(Math.random().toString(16).slice(2))}function p(t){const e=g.findIndex((e=>e.link===t));return n(n({},g[e]),{},{currentIndex:e})}function h(t,e,i){var n;const{link:o,linkMedia:r,groupActiveLink:c}=t,s=o.dataId,d=e.querySelector(":scope > span");c&&d&&!d.dataId&&(d.dataId=c.dataId,d.setAttribute("class",i));const l=!(null!==(n=e.child)&&void 0!==n&&n.length),u=!m(e,s);if(l&&u){const t=r.cloneNode(!0);t.classList.add(i),t.classList.remove(a),t.dataId=s,e.append(t),t.offsetHeight}}const{animate:v,spring:k}=window.Motion;let y=0,w=0;function b(t,e,i){null==e||e.play(),t.classList.add(i)}function L(t,e,i){null==e||e.pause(),null==t||t.classList.remove(i)}function T(t,e){t&&!t.classList.contains(e)&&(Array.from(t.parentNode.children).forEach((t=>t.classList.remove(e))),t.classList.add(e))}function A(t){const e={},i=t.getAttribute("data-motion-transition");t.dataId=t.dataId||f(),e.link=t,e.linkRect=t.getBoundingClientRect(),e.dataAlign=t.getAttribute("data-align")||"center-center",e.transition=!!i&&function(t){const e={easing:(t=t.split(";"))[0],stiffness:100,damping:10,mass:1};return t.length>1&&t.forEach((t=>{const i=t.split(":");2===i.length&&(e[i[0]]=i[1])})),e.stiffness=parseFloat(e.stiffness),e.damping=parseFloat(e.damping),e.mass=parseFloat(e.mass),e}(i);const n=t.querySelector(":scope > .".concat(a));e.linkMedia=n,e.linkVideo=n.querySelector(":scope > video"),e.hasMediaLink=!0,e.hidingTime=function(t){const{transitionDuration:e}=getComputedStyle(t);return t?1e3*parseFloat(e):0}(n),e.mediaSizeFromAlign=function(t,e){const{width:i,height:n}=e;let o=i/2,r=n/2;return t.includes("left")?o=i:t.includes("right")&&(o=0),t.includes("top")?r=n:t.includes("bottom")&&(r=0),{width:o,height:r}}(e.dataAlign,n.getBoundingClientRect());const o=t.closest(".".concat("ghostkit-interactive-group"));var s;o&&(e.group=o,e.groupLinks=Array.from(o.querySelectorAll(".".concat(r))),e.groupActiveLink=null===(s=e.groupLinks)||void 0===s?void 0:s.find((t=>t.classList.contains(c))),e.keepActiveLink=o.classList.contains("ghostkit-interactive-group-keep-active-link"),e.groupActiveLink&&!e.groupActiveLink.dataId&&(e.groupActiveLink.dataId=f()),o.classList.contains("ghostkit-interactive-group-has-media-link")||(e.hasMediaLink=!1));const d=null==o?void 0:o.querySelector(":scope > .".concat("ghostkit-interactive-group-background"));var l;d&&(e.groupBg=d,h(e,d,"ghostkit-interactive-group-media"),e.groupMedia=m(d,t.dataId),e.groupVideo=null===(l=e.groupMedia)||void 0===l?void 0:l.querySelector(":scope > video"));const u=!!o&&Array.from(o.querySelectorAll(".".concat("ghostkit-interactive-media")));u.length&&(e.medias=u,e.mediaItems=u.map((i=>{h(e,i,"ghostkit-interactive-media-item");const n=m(i,t.dataId);return{mediaItem:n,mediaVideo:n.querySelector("video")}}))),g.length&&-1!==p(t).currentIndex||g.push(e)}function I(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=p(t),{linkMedia:n,linkVideo:o,hasMediaLink:r,transition:a,groupMedia:m,groupVideo:f,groupActiveLink:h,keepActiveLink:v,mediaItems:k,currentIndex:y}=i;u.trigger(document,"show.interactive-link.gkt",{relatedTarget:t,config:i}),a||(e=!0),g[y].isShow=!0,g[y].isFocus=!!e,v?T(t,c):h&&h.classList.remove(c),r&&(n.style.position=e?"absolute":"",b(n,o,s)),m&&(v?T(m,d):b(m,f,d)),k&&k.forEach((t=>{let{mediaItem:e,mediaVideo:i}=t;v?T(e,l):b(e,i,l)})),u.trigger(document,"showed.interactive-link.gkt",{relatedTarget:t,config:i})}function S(t){const e=p(t),{linkMedia:i,linkVideo:n,hasMediaLink:o,keepActiveLink:r,groupMedia:a,groupVideo:c,mediaItems:m,hidingTime:f,currentIndex:h}=e;u.trigger(document,"hide.interactive-link.gkt",{relatedTarget:t,config:e}),g[h].isShow=!1,o&&L(i,n,s),r||(L(a,c,d),null==m||m.forEach((t=>{let{mediaItem:e,mediaVideo:i}=t;L(e,i,l)}))),setTimeout((()=>{const i=p(t).currentIndex;i>-1&&!1===g[i].isShow&&g.splice(i,1),u.trigger(document,"hidden.interactive-link.gkt",{relatedTarget:t,config:e})}),f)}!function(t,e){let i=(new Date).getTime();const n=1e3/(e=e||60);!function t(){requestAnimationFrame(t);const e=(new Date).getTime(),o=e-i;var r,a;o>n&&(i=e-o%n,r=y,a=w,g.forEach((t=>{if(!t.hasMediaLink)return;const{linkMedia:e,linkRect:i,transition:n,mediaSizeFromAlign:o,isAnimating:c}=t,s={x:r-o.width,y:a-o.height},d={};t.isFocus&&(s.x=i.width/2-o.width,s.y=i.height/2-o.height),c&&n&&0!==n.mass?d.easing=k({stiffness:n.stiffness,damping:n.damping,mass:n.mass}):d.duration=0,u.trigger(document,"update.interactive-link.gkt",{relatedTarget:e,config:{keyframes:s,options:d,data:t}}),v(e,s,d),t.isAnimating=!0})))}()}(0,20),u.on(document,"mousemove",(function(t){y=t.clientX,w=t.clientY})),u.on(document,"mouseenter",".".concat(r),(function(t){A(t.delegateTarget),I(t.delegateTarget)})),u.on(document,"mousemove",".".concat(r),(function(t){g.length||(A(t.delegateTarget),I(t.delegateTarget))})),u.on(document,"focus",".".concat(r),(function(t){A(t.delegateTarget),I(t.delegateTarget,"static")})),u.on(document,"mouseleave",".".concat(r),(function(t){g.length&&S(t.delegateTarget)})),u.on(document,"blur",".".concat(r),(function(t){g.length&&S(t.delegateTarget)})),u.on(document,"keyup",".".concat(r),(function(t){"Escape"===t.key&&g.length&&S(t.delegateTarget)})),function(i){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;e.on(window,"scroll",t(n,i)),e.on(window,"orientationchange",i)}((()=>{g.forEach(((t,e)=>{if(t.isFocus)return;const{link:i}=t,n=i.getBoundingClientRect(),{top:o,height:r}=n;g[e].linkRect=n,(w<o||w>o+r)&&S(i)}))}))}();